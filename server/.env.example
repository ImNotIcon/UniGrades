# Server Configuration
PORT=3001
HEADLESS=true
DEBUG_SCREENSHOTS=false
BROWSER_PATH=/usr/bin/google-chrome

# Auto-Captcha Configuration (Optional)
# If neither Gemini nor Ollama are configured, auto-solve is unavailable.
# If both are configured:
# - User flow prefers Gemini (fallback to Ollama only when Gemini errors).
# - Subscription/background flow uses Ollama only.
GEMINI_API_KEY=your_gemini_api_key_here
GEMINI_MODELS=gemini-2.5-flash-lite,gemini-2.5-flash,gemini-3-flash-preview
GEMINI_PROMPT=Extract the 6-character alphanumeric captcha text from this image. Return ONLY the 6 characters. No spaces.
GEMINI_ATTEMPTS_PER_MODEL=5

# Ollama captcha solver (fully configurable)
# Set at least OLLAMA_MODEL to enable Ollama auto-solve.
OLLAMA_MODEL=
OLLAMA_API_URL=http://localhost:11434/api/generate
OLLAMA_PROMPT=Return exactly the 6 letters. No explanation. No spaces.
OLLAMA_ATTEMPTS=3
OLLAMA_TIMEOUT_MS=30000
OLLAMA_NUM_CTX=512
OLLAMA_NUM_PREDICT=8
OLLAMA_TEMPERATURE=0
# Optional JSON object merged into Ollama "options"
OLLAMA_OPTIONS_JSON=
# Save Ollama-cropped captcha images into server/screenshots for debugging.
OLLAMA_DEBUG_SAVE_CROPS=false

DISABLE_AUTO_CAPTCHA=false

# MongoDB (Optional, required for notifications/statistics)
# If omitted, subscriptions/statistics features are disabled.
MONGODB_URI=mongodb://localhost:27017

# Push Notifications (VAPID Keys)
# Generate these using: npx web-push generate-vapid-keys
VAPID_PUBLIC_KEY=your_public_key_here
VAPID_PRIVATE_KEY=your_private_key_here
VAPID_EMAIL=mailto:admin@example.com

# Enable whitelist enforcement for auto-solve and push notifications.
AUTOSOLVE_USERNAME_WHITELIST_ENABLED=false
# Comma-separated usernames allowed to use auto-solve and push notifications.
AUTOSOLVE_USERNAME_WHITELIST=
